/* tech pill base */
.techPill {
	position: relative;
	overflow: hidden;
	/* use inline-flex so we can center the text vertically */
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding: 0.25rem 0.75rem;
	border-radius: 9999px;
	/* Make the base pill background match the hovered appearance */
	background: linear-gradient(
		90deg,
		rgba(34, 197, 94, 0.06),
		rgba(16, 185, 129, 0.04)
	);
	/* slightly darker/transparent border to match hover card look */
	border: 1px solid rgba(2, 6, 23, 0.06);
	/* transitions removed so pills appear instantly */
	backdrop-filter: blur(2px);
	vertical-align: middle;
	line-height: 1;
	cursor: pointer;
	user-select: none;
}

/* inner shimmer stripe */
.techPill::before {
	content: "";
	position: absolute;
	inset: 0;
	pointer-events: none;
	background: linear-gradient(
		90deg,
		rgba(255, 255, 255, 0) 0%,
		rgba(255, 255, 255, 0.35) 50%,
		rgba(255, 255, 255, 0) 100%
	);
	transform: translateX(-120%);
	opacity: 0;
}

/* lift + subtle green tint on hover of the card */
.projectCard:hover .techPill,
.projectCard.forceHover .techPill {
	transform: translateY(-4px);
	box-shadow: 0 10px 30px rgba(2, 6, 23, 0.45);
	background: linear-gradient(
		90deg,
		rgba(34, 197, 94, 0.06),
		rgba(16, 185, 129, 0.04)
	);
}

/* trigger shimmer, staggered via --d custom property */
.projectCard:hover .techPill::before,
.projectCard.forceHover .techPill::before {
	/* Re-enable shimmer animation on the projects page */
	opacity: 1;
	animation: shimmer 0.85s cubic-bezier(0.2, 0.9, 0.3, 1) forwards;
	animation-delay: var(--d, 0s);
}
/* shimmer keyframes (projects page) */
@keyframes shimmer {
	from {
		transform: translateX(-120%);
	}
	to {
		transform: translateX(120%);
	}
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
	.projectCard:hover .techPill::before,
	.projectCard.forceHover .techPill::before {
		animation: none;
	}
}
/* stagger delays (adjust count as needed) */
.projectCard .techPill:nth-child(1) {
	--d: 0s;
}
.projectCard .techPill:nth-child(2) {
	--d: 0.06s;
}
.projectCard .techPill:nth-child(3) {
	--d: 0.12s;
}
.projectCard .techPill:nth-child(4) {
	--d: 0.18s;
}
.projectCard .techPill:nth-child(5) {
	--d: 0.24s;
}
.projectCard .techPill:nth-child(6) {
	--d: 0.3s;
}
.projectCard .techPill:nth-child(7) {
	--d: 0.36s;
}
.projectCard .techPill:nth-child(8) {
	--d: 0.42s;
}

/* When tech pills are shown as a floating stack, allow the shimmer to run and add a small hover scale */
.techPill::before {
	/* ensure the shimmer stripe is usable when pointer-events are enabled */
	will-change: transform, opacity;
}

/* Floating tech stack: when hovering the floating container, enlarge all pills and run shimmer sequentially */
:global(.floating-tech):hover .techPill,
:global(.floating-tech).show .techPill {
	transform: translateX(0) scale(1.06) !important;
	box-shadow: 0 10px 26px rgba(2, 6, 23, 0.32);
}

/* trigger shimmer when hovering the floating tech-stack container */
:global(.floating-tech):hover .techPill::before,
:global(.floating-tech).show .techPill::before {
	opacity: 1;
	animation: shimmer 0.85s cubic-bezier(0.2, 0.9, 0.3, 1) forwards;
	animation-delay: var(--d, 0s);
}

/* On the home page, make pillboxes use the same background as the dark link button */
:global(.home-projects) .techPill {
	background: #0f172a; /* same as .link-btn.dark-btn */
	border-color: transparent;
}

/* When overlays are rendered into a portal (appended to document.body) they no longer
   live under .home-projects; keep the same dark pill appearance when mounted to the portal */
[data-overlay-portal] .techPill {
	background: #0f172a;
	border-color: transparent;
}

/* legacy: also support overlay-portal class */
.overlay-portal .techPill {
	background: #0f172a;
	border-color: transparent;
}
